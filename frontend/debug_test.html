<!DOCTYPE html>
<html>
<head>
    <title>Debug ScrumMasterBoard APIs</title>
</head>
<body>
    <h1>Debug Test - Open Browser Console</h1>
    <script>
        // Test function to check APIs
        async function testAPIs() {
            const token = localStorage.getItem('token');
            const projectId = 1;
            
            console.log('ğŸ” Testing APIs with token:', token ? 'Found' : 'Missing');
            
            // Test 1: Direct tasks
            try {
                console.log('ğŸ” Testing direct tasks API...');
                const response = await fetch(`http://localhost:8080/api/tasks?projectId=${projectId}`, {
                    headers: { 'Authorization': `Bearer ${token}` }
                });
                console.log('ğŸ“ Direct tasks response:', response.status, response.statusText);
                if (response.ok) {
                    const data = await response.json();
                    console.log('ğŸ“ Direct tasks data:', data);
                }
            } catch (e) {
                console.error('âŒ Direct tasks error:', e);
            }
            
            // Test 2: Project board API
            try {
                console.log('ğŸ” Testing project board API...');
                const response = await fetch(`http://localhost:8080/api/boards/project/${projectId}/tasks-by-status`, {
                    headers: { 'Authorization': `Bearer ${token}` }
                });
                console.log('ğŸ“Š Project board response:', response.status, response.statusText);
                if (response.ok) {
                    const data = await response.json();
                    console.log('ğŸ“Š Project board data:', data);
                } else {
                    const errorText = await response.text();
                    console.error('ğŸ“Š Project board error:', errorText);
                }
            } catch (e) {
                console.error('âŒ Project board error:', e);
            }
            
            // Test 3: Scrum master API
            try {
                console.log('ğŸ” Testing scrum master API...');
                const response = await fetch(`http://localhost:8080/api/boards/scrum-master?projectId=${projectId}`, {
                    headers: { 'Authorization': `Bearer ${token}` }
                });
                console.log('ğŸ¯ Scrum master response:', response.status, response.statusText);
                if (response.ok) {
                    const data = await response.json();
                    console.log('ğŸ¯ Scrum master data:', data);
                } else {
                    const errorText = await response.text();
                    console.error('ğŸ¯ Scrum master error:', errorText);
                }
            } catch (e) {
                console.error('âŒ Scrum master error:', e);
            }
        }
        
        // Run tests when page loads
        testAPIs();
    </script>
</body>
</html>